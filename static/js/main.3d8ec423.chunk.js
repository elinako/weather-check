(this["webpackJsonpweather-check"]=this["webpackJsonpweather-check"]||[]).push([[0],{53:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(5),a=n.n(r),s=n(2),i=n(7),o=n(6),j=n.n(o),d="AIzaSyAubfp1QYaJqBFGaBVr_PMOzjG70VrB9YU",u="https://maps.googleapis.com/maps/api/geocode",h=function(e,t){return j.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&appid=8a711f92f9811ab059272b4607202f92&units=metric")).then((function(e){return e.data}))},l=function(e){return j()("".concat("https://api.openweathermap.org","/data/2.5/onecall?lat=").concat(e.lat,"&lon=").concat(e.lon,"&exclude=dayli&appid=").concat("8a711f92f9811ab059272b4607202f92")).then((function(e){return e}))},b=n(8),p=n.n(b),O=n(1),f=273.15,m=function(e){var t=e.weatherProp,n=e.forecastProp;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"Weather for search city:"}),Object(O.jsx)("p",{children:t.name}),Object(O.jsx)("h2",{children:"Todays weather"}),Object(O.jsxs)("p",{children:["Temperature: ",Math.round(t.main.temp)]}),Object(O.jsxs)("p",{children:["Feels like: ",Math.round(t.main.feels_like)]}),Object(O.jsxs)("p",{children:["Humidity: ",t.main.humidity]}),Object(O.jsxs)("p",{children:["Pressure: ",t.main.pressure]}),Object(O.jsxs)("p",{children:["Description: ",t.weather[0].description]}),Object(O.jsx)("h1",{children:"Forecast"}),n.daily.map((function(e){var t=p()(Number("".concat(e.dt,"000"))).format("dddd D MMM");return Object(O.jsxs)("li",{children:[Object(O.jsxs)("p",{children:["day: ",t]}),Object(O.jsxs)("p",{children:["temperature: ",Math.round(e.temp.day-f)]}),Object(O.jsxs)("p",{children:["feels like: ",Math.round(e.feels_like.day-f)]}),Object(O.jsxs)("p",{children:["weather: ",e.weather[0].description]}),Object(O.jsxs)("p",{children:["wind speed: ",e.wind_speed]})]},e.dt)}))]})},x=function(e){var t=e.type,n=e.message,c=void 0===n?"":n,r=e.title,a=void 0===r?"":r,s=e.timeOut,o=void 0===s?2e3:s,j=e.callback,d=void 0===j?function(){}:j,u=e.priority,h=void 0!==u&&u;return i.NotificationManager[t.toLowerCase()](c,a,o,d,h)},g=(n(51),function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),o=Object(s.a)(a,2),b=o[0],p=o[1],f=Object(c.useState)(!1),g=Object(s.a)(f,2),y=g[0],w=g[1],v=Object(c.useState)(!1),S=Object(s.a)(v,2),k=S[0],M=S[1],F=Object(c.useState)({}),P=Object(s.a)(F,2),_=P[0],C=P[1],D=Object(c.useState)({}),E=Object(s.a)(D,2),B=E[0],N=E[1],T=Object(c.useState)({}),J=Object(s.a)(T,2),L=J[0],Y=J[1];return Object(c.useEffect)((function(){L.lat&&L.lon&&l(L).then((function(e){N(e.data),M(!0)}))}),[L]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(!0),h(n).then((function(e){C(e),w(!0)})).catch((function(e){404===e.response.status&&x({type:"error",message:"enter proper name of the city"})})),function(e){return j()("".concat(u,"/json?address=").concat(e,"&key=").concat(d)).then((function(e){return e}))}(n).then((function(e){var t=e.data.results[0].geometry.location;Y({lat:String(t.lat),lon:String(t.lng)})})),r("")},children:[Object(O.jsx)("input",{type:"text",placeholder:"your city",value:n,onChange:function(e){return r(e.target.value)}}),Object(O.jsx)("button",{children:"ok"})]}),b&&Object(O.jsx)(O.Fragment,{children:y&&k?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(m,{weatherProp:_,forecastProp:B})}):Object(O.jsx)("p",{children:"Loading..."})}),Object(O.jsx)(i.NotificationContainer,{})]})}),y=273.15,w=function(e){var t=e.weatherProp,n=e.forecastProp;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h2",{children:"Weather for your current city:"}),Object(O.jsx)("p",{children:t.name}),Object(O.jsx)("h2",{children:"Todays weather"}),Object(O.jsxs)("p",{children:["Temperature: ",Math.round(t.main.temp)]}),Object(O.jsxs)("p",{children:["Feels like: ",Math.round(t.main.feels_like)]}),Object(O.jsxs)("p",{children:["Humidity: ",t.main.humidity]}),Object(O.jsxs)("p",{children:["Pressure: ",t.main.pressure]}),Object(O.jsxs)("p",{children:["Description: ",t.weather[0].description]}),Object(O.jsx)("h1",{children:"Forecast"}),n.daily.map((function(e){var t=p()(Number("".concat(e.dt,"000"))).format("dddd D MMM");return Object(O.jsxs)("li",{children:[Object(O.jsxs)("p",{children:["day: ",t]}),Object(O.jsxs)("p",{children:["temperature: ",Math.round(e.temp.day-y)]}),Object(O.jsxs)("p",{children:["feels like: ",Math.round(e.feels_like.day-y)]}),Object(O.jsxs)("p",{children:["weather: ",e.weather[0].description]}),Object(O.jsxs)("p",{children:["wind speed: ",e.wind_speed]})]},e.dt)}))]})},v=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),o=i[0],b=i[1],p=Object(c.useState)(!1),f=Object(s.a)(p,2),m=f[0],x=f[1],y=Object(c.useState)(!1),v=Object(s.a)(y,2),S=v[0],k=v[1],M=Object(c.useState)({}),F=Object(s.a)(M,2),P=F[0],_=F[1],C=Object(c.useState)(""),D=Object(s.a)(C,2),E=D[0],B=D[1],N=Object(c.useState)({}),T=Object(s.a)(N,2),J=T[0],L=T[1];return Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=String(e.coords.latitude),n=String(e.coords.longitude);r(t),b(n)}))}),[]),Object(c.useEffect)((function(){n&&o&&(function(e,t){return j()("".concat(u,"/json?latlng=").concat(e,",").concat(t,"&key=").concat(d)).then((function(e){return e}))}(n,o).then((function(e){B(e.data.results[0].address_components[3].long_name)})),l({lat:n,lon:o}).then((function(e){L(e.data),k(!0)})))}),[n,o]),Object(c.useEffect)((function(){n&&o&&h(n,o).then((function(e){_(e),x(!0)}))}),[n,o]),console.log("weatherCurrent",P),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("p",{children:["Your current city: ",E]}),Object(O.jsx)(g,{}),m&&S?Object(O.jsx)(w,{weatherProp:P,forecastProp:J}):Object(O.jsx)("p",{children:"Loading"})]})};var S=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(v,{})})};a.a.render(Object(O.jsx)(S,{}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.3d8ec423.chunk.js.map
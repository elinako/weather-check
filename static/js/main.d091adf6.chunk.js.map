{"version":3,"sources":["helpers/APIkeys.js","helpers/searchAPI.js","components/WeatherCardForSearchCity/WeatherCardForSearchCity.jsx","helpers/notification.js","components/SearchCityInput/SearchCityInput.jsx","components/WeatherCardForCurrentCity/WeatherCardForCurrentCity.js","components/MainPage/MainPage.js","App.js","index.js"],"names":["weatherAPIKey","googleAPIKey","baseWeatherURL","baseGeocoderURL","axiosCurrentWeather","city","axios","get","then","response","data","axiosForecast","coordinates","lat","lon","kelvinConstant","WeatherCardForSearchCity","weatherProp","forecastProp","name","Math","round","main","temp","feels_like","humidity","pressure","weather","description","daily","map","day","date","moment","Number","dt","format","wind_speed","notification","type","message","title","timeOut","callback","priority","NotificationManager","toLowerCase","SearchCityInput","useState","setCityName","isSubmitted","setIsSubmitted","loadedCurrent","setLoadingCurrentWeather","loadedForecast","setLoadingForecast","setWeather","forecast","setForecast","setCoordinates","useEffect","onSubmit","event","preventDefault","catch","error","status","axiosLatLonOfSearchCity","coord","results","geometry","location","String","lng","placeholder","value","onChange","e","target","WeatherCardForCurrentCity","MainPage","latitude","setLatitude","longtitude","setLongtitude","cityFromLocation","setcityFromLocation","navigator","geolocation","getCurrentPosition","position","coords","longitude","axiosCurrentCity","address_components","long_name","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d091adf6.chunk.js","sourcesContent":["const weatherAPIKey = \"c8898de021261a9b94526d13d16434e9\";\r\nconst googleAPIKey = \"AIzaSyAubfp1QYaJqBFGaBVr_PMOzjG70VrB9YU\";\r\n\r\nexport { weatherAPIKey, googleAPIKey };\r\n","import axios from \"axios\";\r\nimport { weatherAPIKey, googleAPIKey } from \"./APIkeys\";\r\n\r\nconst baseWeatherURL = \"https://api.openweathermap.org\";\r\nconst baseGeocoderURL = \"https://maps.googleapis.com/maps/api/geocode\";\r\n\r\nconst axiosCurrentWeather = (city) => {\r\n  return axios\r\n    .get(\r\n      `${baseWeatherURL}/data/2.5/weather?q=${city}&appid=${weatherAPIKey}&units=metric`\r\n    )\r\n    .then((response) => response.data);\r\n};\r\n\r\nconst axiosCurrentCity = (latitude, longtitude) => {\r\n  return axios(\r\n    `${baseGeocoderURL}/json?latlng=${latitude},${longtitude}&key=${googleAPIKey}`\r\n  ).then((response) => response);\r\n};\r\n\r\nconst axiosLatLonOfSearchCity = (city) => {\r\n  return axios(\r\n    `${baseGeocoderURL}/json?address=${city}&key=${googleAPIKey}`\r\n  ).then((response) => response);\r\n};\r\n\r\nconst axiosForecast = (coordinates) => {\r\n  return axios(\r\n    `${baseWeatherURL}/data/2.5/onecall?lat=${coordinates.lat}&lon=${coordinates.lon}&exclude=dayli&appid=${weatherAPIKey}`\r\n  ).then((response) => response);\r\n};\r\n\r\nexport {\r\n  axiosCurrentWeather,\r\n  axiosLatLonOfSearchCity,\r\n  axiosForecast,\r\n  axiosCurrentCity,\r\n};\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nconst kelvinConstant = 273.15;\r\n\r\nconst WeatherCardForSearchCity = ({ weatherProp, forecastProp }) => {\r\n  return (\r\n    <>\r\n      <h1>Weather for search city:</h1>\r\n      <p>{weatherProp.name}</p>\r\n      <h2>Todays weather</h2>\r\n      <p>Temperature: {Math.round(weatherProp.main.temp)}</p>\r\n      <p>Feels like: {Math.round(weatherProp.main.feels_like)}</p>\r\n      <p>Humidity: {weatherProp.main.humidity}</p>\r\n      <p>Pressure: {weatherProp.main.pressure}</p>\r\n      <p>Description: {weatherProp.weather[0].description}</p>\r\n      {forecastProp.daily.map((day) => {\r\n        const date = moment(Number(`${day.dt}000`)).format(\"dddd D MMM\");\r\n        return (\r\n          <li key={day.dt}>\r\n            <p>day: {date}</p>\r\n            <p>temperature: {Math.round(day.temp.day - kelvinConstant)}</p>\r\n            <p>feels like: {Math.round(day.feels_like.day - kelvinConstant)}</p>\r\n            <p>weather: {day.weather[0].description}</p>\r\n            <p>wind speed: {day.wind_speed}</p>\r\n          </li>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WeatherCardForSearchCity;\r\n","import { NotificationManager } from \"react-notifications\";\r\n\r\nconst notification = ({\r\n  type,\r\n  message = \"\",\r\n  title = \"\",\r\n  timeOut = 2000,\r\n  callback = () => {},\r\n  priority = false,\r\n}) => {\r\n  return NotificationManager[type.toLowerCase()](\r\n    message,\r\n    title,\r\n    timeOut,\r\n    callback,\r\n    priority\r\n  );\r\n};\r\n\r\nexport default notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { NotificationContainer } from \"react-notifications\";\r\nimport {\r\n  axiosCurrentWeather,\r\n  axiosForecast,\r\n  axiosLatLonOfSearchCity,\r\n} from \"../../helpers/searchAPI\";\r\n\r\nimport WeatherCardForSearchCity from \"../WeatherCardForSearchCity/WeatherCardForSearchCity\";\r\nimport notification from \"../../helpers/notification\";\r\nimport \"react-notifications/lib/notifications.css\";\r\n\r\nconst SearchCityInput = () => {\r\n  const [city, setCityName] = useState(\"\");\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n  const [loadedCurrent, setLoadingCurrentWeather] = useState(false);\r\n  const [loadedForecast, setLoadingForecast] = useState(false);\r\n  const [weather, setWeather] = useState({});\r\n  const [forecast, setForecast] = useState({});\r\n  const [coordinates, setCoordinates] = useState({});\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    setIsSubmitted(true);\r\n\r\n    axiosCurrentWeather(city)\r\n      .then((response) => {\r\n        setWeather(response);\r\n        setLoadingCurrentWeather(true);\r\n      })\r\n      .catch((error) => {\r\n        if (error.response.status === 404) {\r\n          notification({\r\n            type: \"warning\",\r\n            message: \"enter proper name of the city\",\r\n          });\r\n        }\r\n      });\r\n\r\n    axiosLatLonOfSearchCity(city).then((response) => {\r\n      const coord = response.data.results[0].geometry.location;\r\n      setCoordinates({ lat: String(coord.lat), lon: String(coord.lng) });\r\n    });\r\n\r\n    setCityName(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (coordinates.lat && coordinates.lon) {\r\n      axiosForecast(coordinates).then((response) => {\r\n        setForecast(response.data);\r\n        setLoadingForecast(true);\r\n      });\r\n    }\r\n  }, [coordinates]);\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"your city\"\r\n          value={city}\r\n          onChange={(e) => setCityName(e.target.value)}\r\n        />\r\n        <button>ok</button>\r\n      </form>\r\n\r\n      {isSubmitted && (\r\n        <>\r\n          {loadedCurrent && loadedForecast ? (\r\n            <>\r\n              <WeatherCardForSearchCity\r\n                weatherProp={weather}\r\n                forecastProp={forecast}\r\n              />\r\n            </>\r\n          ) : (\r\n            <p>Loading...</p>\r\n          )}\r\n        </>\r\n      )}\r\n      <NotificationContainer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchCityInput;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\n\r\nconst kelvinConstant = 273.15;\r\n\r\nconst WeatherCardForCurrentCity = ({ weatherProp, forecastProp }) => {\r\n  return (\r\n    <>\r\n      <h2>Weather for your current city:</h2>\r\n      <p>{weatherProp.name}</p>\r\n      <h2>Todays weather</h2>\r\n      <p>Temperature: {Math.round(weatherProp.main.temp)}</p>\r\n      <p>Feels like: {Math.round(weatherProp.main.feels_like)}</p>\r\n      <p>Humidity: {weatherProp.main.humidity}</p>\r\n      <p>Pressure: {weatherProp.main.pressure}</p>\r\n      <p>Description: {weatherProp.weather[0].description}</p>\r\n      {forecastProp.daily.map((day) => {\r\n        const date = moment(Number(`${day.dt}000`)).format(\"dddd D MMM\");\r\n        return (\r\n          <li key={day.dt}>\r\n            <p>day: {date}</p>\r\n            <p>temperature: {Math.round(day.temp.day - kelvinConstant)}</p>\r\n            <p>feels like: {Math.round(day.feels_like.day - kelvinConstant)}</p>\r\n            <p>weather: {day.weather[0].description}</p>\r\n            <p>wind speed: {day.wind_speed}</p>\r\n          </li>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WeatherCardForCurrentCity;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport SearchCityInput from \"../SearchCityInput/SearchCityInput\";\r\nimport {\r\n  axiosCurrentCity,\r\n  axiosForecast,\r\n  axiosCurrentWeather,\r\n} from \"../../helpers/searchAPI\";\r\nimport WeatherCardForCurrentCity from \"../WeatherCardForCurrentCity/WeatherCardForCurrentCity\";\r\n\r\nconst MainPage = () => {\r\n  const [latitude, setLatitude] = useState(\"\");\r\n  const [longtitude, setLongtitude] = useState(\"\");\r\n  const [loadedCurrent, setLoadingCurrentWeather] = useState(false);\r\n  const [loadedForecast, setLoadingForecast] = useState(false);\r\n  const [weather, setWeather] = useState({});\r\n  const [cityFromLocation, setcityFromLocation] = useState(\"\");\r\n  const [forecast, setForecast] = useState({});\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      const lat = String(position.coords.latitude);\r\n      const lon = String(position.coords.longitude);\r\n      setLatitude(lat);\r\n      setLongtitude(lon);\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (latitude && longtitude) {\r\n      axiosCurrentCity(latitude, longtitude).then((response) => {\r\n        setcityFromLocation(\r\n          response.data.results[0].address_components[3].long_name\r\n        );\r\n      });\r\n\r\n      const coordinates = { lat: latitude, lon: longtitude };\r\n      axiosForecast(coordinates).then((response) => {\r\n        setForecast(response.data);\r\n        setLoadingForecast(true);\r\n      });\r\n    }\r\n  }, [latitude, longtitude]);\r\n\r\n  useEffect(() => {\r\n    if (cityFromLocation) {\r\n      axiosCurrentWeather(cityFromLocation).then((response) => {\r\n        setWeather(response);\r\n        setLoadingCurrentWeather(true);\r\n      });\r\n    }\r\n  }, [cityFromLocation]);\r\n\r\n  // console.log(\"weatherCurrent\", weather);\r\n  // console.log(\"forec!!!!\", forecast);\r\n\r\n  return (\r\n    <>\r\n      <p>Your current city: {cityFromLocation}</p>\r\n      <SearchCityInput />\r\n      {loadedCurrent && loadedForecast ? (\r\n        <WeatherCardForCurrentCity\r\n          weatherProp={weather}\r\n          forecastProp={forecast}\r\n        />\r\n      ) : (\r\n        <p>Loading</p>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n","import React from \"react\";\nimport MainPage from \"../src/components/MainPage/MainPage\";\n\nfunction App() {\n  return (\n    <>\n      <MainPage />\n    </>\n  );\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}